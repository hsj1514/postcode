<html lang="ko">
    <head>
        <title>주소 찾기</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0"/>
    </head>
    <body onload="execDaumPostcode()">
        <!-- <input type="text" id="sample3_postcode" placeholder="우편번호">
        <input type="button" onclick="sample3_execDaumPostcode()" value="우편번호 찾기"><br>
        <input type="text" id="sample3_address" placeholder="주소"><br>
        <input type="text" id="sample3_detailAddress" placeholder="상세주소">
        <input type="text" id="sample3_extraAddress" placeholder="참고항목"> -->

        <!-- <div id="wrap" style="border:1px solid;width:500px;height:300px;margin:5px 0;position:relative"> -->
        <div id = "layer" style = "display:block; position:absolute; overflow:hidden; z-index:1; -webkit-overflow-scrolling:touch;"></div>
        <!-- <img src="//t1.daumcdn.net/postcode/resource/images/close.png" id="btnFoldWrap" style="cursor:pointer;position:absolute;right:0px;top:-1px;z-index:1" onclick="foldDaumPostcode()" alt="접기 버튼"> -->
        </div>

        <script src="//t1.daumcdn.net/mapjsapi/bundle/postcode/prod/postcode.v2.js"></script>

        <script>
            // window.addEventListener("message", onReceivedPostMessage, false);

            // function onReceivedPostMessage(event){
            //     //..ex deconstruct event into action & params
            //     var action = event.data.action;
            //     var params = event.data.params;
            //     console.log("onReceivedPostMessage "+event);
            // }

            // function onReceivedActivityMessageViaJavascriptInterface(json){
            //     //..ex deconstruct data into action & params
            //     var data = JSON.parse(json);
            //     var action = data.action;
            //     var params = data.params;
            //     console.log("onReceivedActivityMessageViaJavascriptInterface "+event);
            // }

            // function postMessageToiOS(postData) {
            //     window.webkit.messageHandlers.callBackHandler.postMessage(postData);
            // }

            var element_layer = document.getElementById('layer');
            function execDaumPostcode() {
                new daum.Postcode({
                    oncomplete: function(data) {
                        console.log(data);
                        var jibunAddress = ""

                        if (data.jibunAddress == "") {
                            jibunAddress = data.autoJibunAddress
                        } else if (data.autoJibunAddress == "") {
                            jibunAddress = data.jibunAddress
                        }

                        var postData = {
                            roadAddress : data.roadAddress,
                            jibunAddress : jibunAddress,
                            zonecode : data.zonecode
                        };
                        // window.postMessageToiOS(postData);
                    },
                    width : '100%',
                    height : '100%'
                }).embed(element_layer);
                element_layer.style.display = 'block';
                initLayerPosition();
            }

            function initLayerPosition(){
                var width = (window.innerWidth || document.documentElement.clientWidth);
                var height = (window.innerHeight || document.documentElement.clientHeight);
                element_layer.style.width = width + 'px';
                element_layer.style.height = height + 'px';
                element_layer.style.left = (((window.innerWidth || document.documentElement.clientWidth) - width)/2) + 'px';
                element_layer.style.top = (((window.innerHeight || document.documentElement.clientHeight) - height)/2) + 'px';
            }
        </script>

        <!-- <script>
            // 우편번호 찾기 찾기 화면을 넣을 element
            var element_wrap = document.getElementById('wrap');

            // function foldDaumPostcode() {
            //     // iframe을 넣은 element를 안보이게 한다.
            //     element_wrap.style.display = 'none';
            // }

            function sample3_execDaumPostcode() {
                // 현재 scroll 위치를 저장해놓는다.
                var currentScroll = Math.max(document.body.scrollTop, document.documentElement.scrollTop);
                new daum.Postcode({
                    oncomplete: function(data) {
                        console.log(data);
                        // 우편번호 찾기 화면이 보이기 이전으로 scroll 위치를 되돌린다.
                        document.body.scrollTop = currentScroll;
                    },
                    // 우편번호 찾기 화면 크기가 조정되었을때 실행할 코드를 작성하는 부분. iframe을 넣은 element의 높이값을 조정한다.
                    onresize : function(size) {
                        element_wrap.style.height = size.height+'px';
                    },
                    width : '100%',
                    height : '100%'
                }).embed(element_wrap);

                // iframe을 넣은 element를 보이게 한다.
                element_wrap.style.display = 'block';
            }
        </script> -->
    </body>
</html>